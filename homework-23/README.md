# Парсер Open Library

Этот проект представляет собой парсер для сбора данных о книгах с сайта Open Library (https://openlibrary.org). Он разработан с учетом принципов модульности и расширяемости, что позволяет легко интегрировать его в более крупные системы или добавлять новый функционал. В отличие от предыдущих версий, этот парсер реально собирает данные с открытого источника без обхода защитных систем.

---

## 1. Постановка задачи

**Задача:** Создать гибкий и расширяемый парсер для сбора данных о книгах с сайта Open Library.

**Ключевые цели:**

*   **Сбор данных:** Извлекать название, автора, год первого издания и количество изданий для книг из различных тематических разделов (например, "fiction").
*   **Сортировка данных:** Сортировать книги по году выпуска (по убыванию), рейтингу (по популярности, определяемой через количество изданий) и названию (по алфавиту).
*   **Модульность:** Разделить логику парсинга, сортировки, сохранения данных и управления процессом на независимые компоненты (классы и функции).
*   **Расширяемость:** Обеспечить возможность легкого добавления новых параметров для сбора (жанр, описание) или поддержки других форматов вывода.
*   **Экспорт данных:** Предоставить функционал для сохранения результатов в популярных форматах, таких как JSON и CSV.

**Обоснование:** Данные из Open Library ценны для анализа литературных тенденций, создания персональных библиотек или построения рекомендательных систем. Создание универсального инструмента, а не одноразового скрипта, решает более широкую задачу и закладывает основу для будущих проектов, например, для агрегации информации о книгах с разных платформ.

---

## 2. Инструкция по сборке и запуску

Проект использует `uv` для управления зависимостями и виртуальным окружением.

**Предварительные требования:**
*   Установленный [Python](https://www.python.org/downloads/) (версии 3.8+).
*   Установленный [uv](https://docs.astral.sh/uv/getting-started/installation/).

**Шаги для запуска:**

1.  **Перейдите в папку с проектом:**
    Откройте терминал или командную строку и перейдите в директорию, где находится ваш проект.
    ```bash
    cd /home/uss/Skillfucktory/homework-23
    ```

2.  **Установка зависимостей:**
    `uv` автоматически создаст виртуальное окружение и установит все необходимые пакеты, указанные в `pyproject.toml`.
    ```bash
    uv sync
    ```

3.  **Запуск парсера:**
    Для запуска основного скрипта используется команда `uv run`, которая гарантирует выполнение кода в правильном окружении.
    ```bash
    uv run python openlibrary_parser.py
    ```

После выполнения в корневой папке проекта появятся два файла с результатами: `openlibrary_fiction_books.json` и `openlibrary_fiction_books.csv`.

---

## 3. Пример результатов работы парсера

После успешного запуска будут созданы файлы с отсортированными данными о книгах из раздела "fiction".

**Содержимое файла `openlibrary_fiction_books.json` (данные отсортированы по году (по убыванию), рейтингу (по популярности) и названию (по алфавиту)):**

```json
[
    {
        "title": "Pride and Prejudice",
        "author": "Jane Austen",
        "year": 1813,
        "edition_count": 4036,
        "subject": "fiction"
    },
    {
        "title": "Alice's Adventures in Wonderland",
        "author": "Lewis Carroll",
        "year": 1865,
        "edition_count": 3546,
        "subject": "fiction"
    },
    {
        "title": "The Picture of Dorian Gray",
        "author": "Oscar Wilde",
        "year": 1890,
        "edition_count": 3006,
        "subject": "fiction"
    },
    {
        "title": "Wuthering Heights",
        "author": "Emily Brontë",
        "year": 1846,
        "edition_count": 2885,
        "subject": "fiction"
    },
    {
        "title": "A Christmas Carol",
        "author": "Charles Dickens",
        "year": 1843,
        "edition_count": 2727,
        "subject": "fiction"
    }
]
```

**Содержимое файла `openlibrary_fiction_books.csv` (данные отсортированы по году (по убыванию), рейтингу (по популярности) и названию (по алфавиту)):**

```csv
title,author,year,edition_count,subject
Pride and Prejudice,Jane Austen,1813,4036,fiction
Alice's Adventures in Wonderland,Lewis Carroll,1865,3546,fiction
The Picture of Dorian Gray,Oscar Wilde,1890,3006,fiction
Wuthering Heights,Emily Brontë,1846,2885,fiction
A Christmas Carol,Charles Dickens,1843,2727,fiction
```

---

## Структура проекта

```
/homework-23
|-- openlibrary_parser.py    # Основной парсер с Open Library
|-- data_saver.py            # Модуль с функциями для сохранения данных в JSON и CSV
|-- pyproject.toml           # Файл конфигурации проекта и зависимостей для `uv`
|-- uv.lock                  # Файл с заблокированными версиями зависимостей
|-- README.md               # Этот файл
```